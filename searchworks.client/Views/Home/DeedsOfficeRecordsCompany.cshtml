@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<searchworks.client.Company.CompanyInformation>

@{
    ViewBag.Title = "Deeds Office Records Company";
}



<div class="col-md-10 col-sm-10">
    <div class="row tabs-row" id="tabs-div">

        @*</div><span class="none" id="tabs-close">x</span>*@
    </div>
    <div class="sea_bar">
        <label>Search History</label>
        <input name="search" />
        <button>RESET</button>
    </div>
    <div class="con">
        <div class="col-md-6 col-sm-6 left">
            @using (Html.BeginForm("DatabasePropertyCompanyResults", "Home", FormMethod.Post))
            {

                <div class="ref">
                    <label>Reference</label><br>

                    @Html.TextBox("reference", null, new { @id = "Ref" })
                </div>

                <div class="eqType">
                    <label>Deeds Office</label><br>

                    @Html.DropDownList("deedsOffice", new List<SelectListItem>
                {

                      new SelectListItem { Text = "Bloemfontein", Value = "Bloemfontein"},
                      new SelectListItem { Text = "CapeTown", Value = "CapeTown"},
                      new SelectListItem { Text = "Johannesburg", Value = "Johannesburg"},
                      new SelectListItem { Text = "Kimberley", Value = "Kimberley"},
                      new SelectListItem { Text = "KingWilliamsTown", Value = "KingWilliamsTown"},
                      new SelectListItem { Text = "Pietermaritzburg", Value = "Pietermaritzburg"},
                      new SelectListItem { Text = "Pretoria", Value = "Pretoria"},
                      new SelectListItem { Text = "Vryburg", Value = "Vryburg"},
                         new SelectListItem { Text = "Umtata", Value = "Umtata"},
                            new SelectListItem { Text = "Mpumalanga", Value = "Mpumalanga"},
                               new SelectListItem { Text = "Limpopo", Value = "Limpopo"},
                }, " Select Deeds Office", new { @id = "eqtype", required = "required" })
                </div>
                <div class="eqType">
                    <label>Company Name</label><br>

                    @Html.TextBox("FirstName", null, new { @id = "IDNumber", minlength = "3", maxlength = "30" })
                </div>

                <div class="eqType">
                    <label>Company Registration Number</label><br>

                    @Html.TextBox("IDNumber", null, new { @id = "IDNumber", minlength = "3", maxlength = "30" })
                </div>

                <div class="tc">
                    <div class="checkBoxDiv">
                        I accept the &nbsp; <a href="#">terms and conditions &nbsp; </a>
                        <input id="tc" type="checkbox" value="tc" required />
                    </div>
                    <button id="individualSearch" class="butn" name="individualSearch">Perform Search</button>
                </div>



            }
        </div>
        <div class="col-md-6 col-sm-6 right">
            <div class="cen_text">
                Obtain the consumer trace details of an individual comprising of address, contact or employment history.
                For more information about this repost please download the sample report. <br><br>
                Please note : Tracing should only be utilised to locate debtors! Please not that the result will automatically be deleted on the specified "Expiry Date" as displayed and located in the NCR Searches tab per NCR regulation.
            </div>
        </div>


    </div>



        @*<div class="seaTab">
            <div class="col-md-6 col-sm-6">
                <div class="sea">

                </div>
            </div>

            <div class="col-md-6 col-sm-6">
                <div class="sea">
                    <div class="opt1">
                        <div class="exp">Export List </div>
                        <div class="create">Create Group</div>
                        <div class="history"><i class="fa fa-history"></i>History</div>
                    </div>
                </div>
            </div>
        </div>*@



        @*<div class="seaTable form-style-9">
            <form action="" method="POST">
                <h3 class="Trans">Deeds Office Records</h3>
                <ul>
                    <li>
                        <input type="text" class="field-style field-split align-left" id="ref" name="ref" placeholder="Reference" disabled>
                        <select class="field-style field-split align-right" id="DeedsOffice" name="DeedsOffice" plceholder="Deeds Office">
                            <option value="1" selected>Bloemfontein</option>
                            <option value="2">CapeTown</option>
                            <option value="3">Johannesburg</option>
                            <option value="4">Kimberley</option>
                            <option value="5">KingWilliamsTown</option>
                            <option value="6">Pietermaritzburg</option>
                            <option value="7">Pretoria</option>
                            <option value="8">Vryburg</option>
                            <option value="9">Umtata</option>
                            <option value="11">Mpumalanga</option>
                            <option value="12">Limpopo</option>
                        </select>
                    </li>
                    <li>
                        <input type="text" class="field-style field-split align-left" id="CompanyName" name="CompanyName" placeholder="Company Name">
                        <input type="text" class="field-style field-split align-right" id="CompanyRegistrationNumber" name="CompanyRegistrationNumber" placeholder="Company Registration Number">

                    </li>
                    <li>
                        <button id="companySearch" class="btn btn-primary" name="companySearch">Search</button>
                    </li>
                </ul>
            </form>
        </div>*@



    </div>


    <script>
    function Search() {
                        $.ajax(
                        {
                            type: "POST",
                            url: '@Url.Action("GetCompanyResults", "Home")',
                                data: {
                                    companyName: $('#comName').val(),

                                },
                            dataType: "text",
                                error: function (result) {
                                    alertMessage = '<div class="alert alert-success" role="alert">'
                                        + 'Account Created </div>';

                                    $(".resturn-message").html(alertMessage)





                            },
                                success: function (result) {

                             var alertMessage = '<div class="alert alert-success" role="alert">'
                                        + 'Right Usename/Password</div>';

                                    $(".resturn-message").html(alertMessage)

                                    //alert(result.user_type);

                                    debugger;



                          if (result.status == true) {

                                        if (result.user_type === "client") {

                                            console.log(result);

                                            window.location.href = '@Url.Action("SubmissionStep2", "Checks")';

                                        }
                                        else if (result.user_type === "admin") {
                                             window.location.href = '@Url.Action("Admin_S", "Dashboard")';
                                        }


                            }
                            else {

                                var alertMessage = '<div class="alert alert-danger" role="alert">'
                                    + 'Invalid Usename/Password</div>';

                                $(".resturn-message").html(alertMessage)

                                alert(result.message);
                            }
                            }
                        });
                        }

    </script>
