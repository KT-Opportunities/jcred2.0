@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<searchworks.client.Individual.PersonInformation>

@{
    ViewBag.Title = "Database Property Individual";
}

<div class="col-md-10 col-sm-10">
    <div class="row tabs-row" id="tabs-div">

        @*</div><span class="none" id="tabs-close">x</span>*@
    </div>
    <div class="sea_bar">
        <label>Search History</label>
        <input name="search" />
        <button>RESET</button>
    </div>
    <div class="con">

        <div class="col-md-6 col-sm-6 left">
            @using (Html.BeginForm("DatabasePropertyIndividualResults", "Individual", FormMethod.Post))
            {
                <div class="ref">
                    <label>Reference</label><br>

                    @Html.TextBox("reference", null, new { @id = "Ref" })
                </div>
                <div class="eqType">
                    <label>Deeds Office</label><br>

                    @Html.DropDownList("deedsOffice", new List<SelectListItem>
                {

                      new SelectListItem { Text = "Bloemfontein", Value = "1"},
                      new SelectListItem { Text = "CapeTown", Value = "2"},
                      new SelectListItem { Text = "Johannesburg", Value = "3"},
                      new SelectListItem { Text = "Kimberley", Value = "4"},
                      new SelectListItem { Text = "KingWilliamsTown", Value = "5"},
                      new SelectListItem { Text = "Pietermaritzburg", Value = "6"},
                      new SelectListItem { Text = "Pretoria", Value = "7"},
                      new SelectListItem { Text = "Vryburg", Value = "8"},
                         new SelectListItem { Text = "Umtata", Value = "9"},
                            new SelectListItem { Text = "Mpumalanga", Value = "11"},
                               new SelectListItem { Text = "Limpopo", Value = "12"},
                }, " Select Deeds Office", new { @id = "DeedsOffice", required = "required" })
                </div>
                <div class="eqType">
                    <label>Surname</label><br>

                    @Html.TextBox("Surname", null, new { @id = "Surname", minlength = "3", maxlength = "30" })
                </div>
                <div class="eqType">
                    <label>First Name</label><br>

                    @Html.TextBox("FirstName", null, new { @id = "FirstName", minlength = "3", maxlength = "30" })
                </div>

                <div class="eqType">
                    <label>ID Number</label><br>

                    @Html.TextBox("IDNumber", null, new { @id = "IDNumber", minlength = "3", maxlength = "30" })
                </div>

                <div class="tc">
                    <div class="checkBoxDiv">
                        I accept the &nbsp; <a href="#">terms and conditions &nbsp; </a>
                        <input id="tc" type="checkbox" value="tc" required />
                    </div>
                    <button onclick="Search()" id="individualSearch" class="butn" name="individualSearch">Perform Search</button>
                </div>

            }
        </div>
        <div class="col-md-6 col-sm-6 right">
            <div class="cen_text">
                Obtain the consumer trace details of an individual comprising of address, contact or employment history.
                For more information about this repost please download the sample report. <br><br>
                Please note : Tracing should only be utilised to locate debtors! Please not that the result will automatically be deleted on the specified "Expiry Date" as displayed and located in the NCR Searches tab per NCR regulation.
            </div>
        </div>
    </div>

    @*<div class="seaTab">
            <div class="col-md-6 col-sm-6">
                <div class="sea">
                    <form action="" method="POST">
                        <label>Search For: </label><input type="text" class="sea-input" id="search" name="searchterm">
                        <div class="opt">
                            <button type="submit" class="reset" id="btnS" name="submit">Submit</button>
                            <div class="filter"><i class="fas fa-filter"></i></div>
                            <div class="cal"><i class="fas fa-calendar-alt"></i></div>
                        </div>
                </div>
            </div>

            <div class="col-md-6 col-sm-6">
                <div class="sea">
                    <div class="opt1">
                        <div class="exp">Export List </div>
                        <div class="create">Create Group</div>
                        <div class="history"><i class="fa fa-history"></i>History</div>
                    </div>
                </div>
            </div>
        </div>*@
</div>
<script>
    function Search() {
        @*var Reference = document.getElementById("Ref").value == null ? "" : document.getElementById("Ref").value;*@
        var deedsOffice = document.getElementById("DeedsOffice").value;
        var Surname = document.getElementById("Surname").value;
        var FirstName = document.getElementById("FirstName").value;
        var IDNumber = document.getElementById("IDNumber").value;

        var data = {
            @*Reference: Reference,*@
            DeedsOffice: deedsOffice,
            Surname: Surname,
            FirstName: FirstName,
            IDNumber: IDNumber
        }

        $.ajax({
            url: '/DatabasePropertyIndividualResults/Individual',
            type: 'POST',
            data: data,
            dataType: 'json',
            success: function (result) {alert("success")}
            });
    }
</script>